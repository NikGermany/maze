<html>
<head>
<link rel="stylesheet" type="text/css" href="css/style.css">
<title>Labirint</title>
</head>
<body>

<header>
	<font id="pisava">MAZE</font>
</header>
<div id="center">
	<canvas id="canvas1" width="482" height="482" ></canvas>
</div>
<div id="gumbi">
	<div class="button"><a href="javascript:start()">START</a></div>
	
</div>
<div class="button2"><a href="javascript:window.location.reload()">RESTART</a></div>
<script>
		const pic1 = new Image();
		pic1.src = 'slike/bugatti.png';

		var canvas = document.getElementById("canvas1"); 
		var ctx = canvas.getContext("2d");
		var points=[234,2,234,10,250,10,250,26,234,26,234,42,218,42,218,26,202,26,202,74,186,74,186,58,170,58,170,90,186,90,186,106,234,106,234,74,250,74,250,122,298,122,298,138,314,138,314,122,362,122,362,106,394,106,394,74,410,74,410,122,378,122,378,138,330,138,330,154,266,154,266,138,250,138,250,186,282,186,282,202,298,202,298,234,314,234,314,202,330,202,330,218,346,218,346,202,394,202,394,218,442,218,442,234,458,234,458,250,442,250,442,282,426,282,426,266,410,266,410,250,426,250,426,234,394,234,394,282,362,282,362,266,346,266,346,234,330,234,330,266,314,266,314,250,234,250,234,266,250,266,250,314,266,314,266,346,250,346,250,362,186,362,186,378,218,378,218,426,202,426,202,442,154,442,154,410,202,410,202,394,154,394,154,378,138,378,138,458,234,458,234,474,250,474,250,482,250,1000];

		var ab=[];
		var Atemp=0;
		var Btemp=0;
		var a=234;
		var b=0;
		var n=0;
		var t=0;
		var hitrost;
		var x=0;
                var y=0;
                var x2=0;
                var y2=0;
                var counter=0;
				var intervalCrta, intervalSlika;
		points.scale(2, 2)

		function start() {
			intervalCrta = setInterval(drawCrta,50);
			//hitrost=setInterval(draw,9);
			document.getElementById("button").style.visibility="hidden";
		}

		function draw(){
			Atemp=points[n];
			Btemp=points[n+1];
			var aRisi=Atemp-a;
			var bRisi=Btemp-b;
			ctx.clearRect(0,0,482,482);
			ctx.drawImage(pic1,a-7,b-9);
			

			if(a!=Atemp||b!=Btemp){
				t=t+2;

				if(aRisi>0){	
					a=a+1;
				}
				else if(aRisi==0){
				}
				else{
					a=a-1;
				}
				if(bRisi>0){
					b=b+1;
				}else if(bRisi==0){
				}
				else{
					b=b-1;
				}
			}
			else{
				n=n+2;
			}

			ab[t-1]=a;
			ab[t]=b;
			console.log(t);

			if(a==250 && b==670){
				clearInterval(hitrost);	
			}
	 }
function drawCrta(){

                    x=points[counter];
                    y=points[counter+1];
                    x2=points[counter+2];
                    y2=points[counter+3];
                    // set the line width and color
                    ctx.lineWidth = 2;
                    ctx.strokeStyle = "#00ff00";
                    // begin the path and move to the starting position
                    ctx.beginPath();
                    ctx.moveTo(x,y);

                    // draw a line to the ending position
                    ctx.lineTo(x2,y2);

                    // stroke the path to draw the line
                    ctx.stroke();

                    counter=counter+2;
                    console.log(x, y);
                    if (x==250 && y==1000) {
                        clearInterval(intervalCrta);
                        hitrost=setInterval(draw,9);
                    }

             }

	</script>

</body>
</html>